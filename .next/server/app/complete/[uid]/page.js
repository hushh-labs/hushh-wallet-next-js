(()=>{var e={};e.id=46,e.ids=[46],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(482),a=r(9108),o=r(2563),l=r.n(o),i=r(8300),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let d=["",{children:["complete",{children:["[uid]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5678)),"/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/complete/[uid]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/complete/[uid]/page.tsx"],m="/complete/[uid]/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/complete/[uid]/page",pathname:"/complete/[uid]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1724:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},7689:(e,t,r)=>{Promise.resolve().then(r.bind(r,5721))},1676:()=>{},2295:(e,t,r)=>{"use strict";e.exports=r(6372).vendored["react-ssr"].ReactJsxRuntime},2254:(e,t,r)=>{e.exports=r(4767)},5721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(2295),a=r(3729),o=r(2254);function l({params:e}){let t=(0,o.useSearchParams)().get("token"),r=e.uid,[l,i]=(0,a.useState)({city:"",state:"",zip:"",gender:"",age:"",street1:""}),[n,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),[p,x]=(0,a.useState)("");(0,a.useEffect)(()=>{t||u("Invalid or missing token. Please use the link from your pass.")},[t]);let g=async e=>{if(e.preventDefault(),t&&r){d(!0),u("");try{let e=await fetch("/api/profile/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:r,token:t,city:l.city||void 0,state:l.state||void 0,zip:l.zip||void 0,gender:l.gender||void 0,age:l.age?parseInt(l.age):void 0,street1:l.street1||void 0})}),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to update profile");m(!0),x(s.member||"")}catch(e){u(e instanceof Error?e.message:"An error occurred")}finally{d(!1)}}},b=e=>{i({...l,[e.target.name]:e.target.value})};return t?c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-yellow-800 to-yellow-600 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl p-8 border border-white/20 text-center",children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Profile Updated!"}),(0,s.jsxs)("p",{className:"text-white/80",children:["Thank you",p&&`, ${p}`,"! Your profile has been successfully updated."]})]}),s.jsx("a",{href:"/",className:"inline-block bg-gradient-to-r from-yellow-400 to-amber-500 text-amber-900 font-bold py-3 px-6 rounded-lg shadow-lg hover:from-yellow-300 hover:to-amber-400 transition-all duration-200",children:"Return Home"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-yellow-800 to-yellow-600",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl p-8 border border-white/20",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-white/80",children:"Add your US address details to unlock premium features"})]}),(0,s.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-white font-medium mb-2",children:"City"}),s.jsx("input",{type:"text",id:"city",name:"city",value:l.city,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"Enter your city"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"state",className:"block text-white font-medium mb-2",children:"State"}),(0,s.jsxs)("select",{id:"state",name:"state",value:l.state,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",children:[s.jsx("option",{value:"",className:"text-gray-700",children:"Select"}),["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map(e=>s.jsx("option",{value:e,className:"text-gray-700",children:e},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"zip",className:"block text-white font-medium mb-2",children:"ZIP Code"}),s.jsx("input",{type:"text",id:"zip",name:"zip",value:l.zip,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"12345"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"gender",className:"block text-white font-medium mb-2",children:"Gender"}),(0,s.jsxs)("select",{id:"gender",name:"gender",value:l.gender,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",children:[s.jsx("option",{value:"",className:"text-gray-700",children:"Select"}),s.jsx("option",{value:"male",className:"text-gray-700",children:"Male"}),s.jsx("option",{value:"female",className:"text-gray-700",children:"Female"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"age",className:"block text-white font-medium mb-2",children:"Age"}),s.jsx("input",{type:"number",id:"age",name:"age",min:"13",max:"120",value:l.age,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"25"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"street1",className:"block text-white font-medium mb-2",children:"Street Address (Optional)"}),s.jsx("input",{type:"text",id:"street1",name:"street1",value:l.street1,onChange:b,className:"w-full px-4 py-3 rounded-lg bg-white/20 border border-white/30 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"123 Main Street"})]}),h&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-4",children:s.jsx("p",{className:"text-white text-sm",children:h})}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 text-amber-900 font-bold py-4 px-6 rounded-lg shadow-lg hover:from-yellow-300 hover:to-amber-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02]",children:n?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Profile"})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-white/60 text-xs",children:"All fields are optional. You can skip this step and complete later."})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-900 via-yellow-800 to-yellow-600 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl p-8 border border-white/20 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-white/80",children:"Invalid or missing token. Please use the link from your HUSHH Gold Pass."})]})})}},5678:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});let s=(0,r(6843).createProxy)(String.raw`/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/complete/[uid]/page.tsx`),{__esModule:a,$$typeof:o}=s,l=s.default},1342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>a});var s=r(5036);r(5023);let a={title:"HUSHH Gold Pass",description:"Exclusive access to premium experiences"};function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,312],()=>r(2827));module.exports=s})();