"use strict";(()=>{var e={};e.id=141,e.ids=[141],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6040:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>k,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>m});var r={};s.r(r),s.d(r,{GET:()=>i,OPTIONS:()=>c});var a=s(5419),n=s(9108),o=s(9678),u=s(8070);async function i(e){try{let e=process.env.CLAUDE_API_KEY;if(!e)return u.Z.json({status:"error",message:"Claude API key not configured",configured:!1},{status:503});let t=`You are a test endpoint for HUSHH. Respond with exactly this JSON:
{
  "status": "success",
  "message": "Claude API is working correctly",
  "timestamp": "${new Date().toISOString()}",
  "model": "claude-3-haiku-20240307"
}`,s=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:200,messages:[{role:"user",content:t}]})});if(!s.ok){let e=await s.text();return u.Z.json({status:"error",message:`Claude API error: ${s.status} ${s.statusText}`,details:e,configured:!0,connectivity:!1},{status:s.status})}let r=await s.json(),a=r.content[0].text;try{let e=JSON.parse(a);return u.Z.json({status:"success",message:"Claude API is fully functional",configured:!0,connectivity:!0,response:e,usage:{input_tokens:r.usage.input_tokens,output_tokens:r.usage.output_tokens}})}catch(e){return u.Z.json({status:"warning",message:"Claude API connected but response parsing failed",configured:!0,connectivity:!0,raw_response:a,parse_error:e instanceof Error?e.message:"Unknown parse error"})}}catch(e){return console.error("Claude API test error:",e),u.Z.json({status:"error",message:"Failed to test Claude API connectivity",configured:!!process.env.CLAUDE_API_KEY,connectivity:!1,error:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(){return u.Z.json({},{status:200})}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/claude/test/route",pathname:"/api/claude/test",filename:"route",bundlePath:"app/api/claude/test/route"},resolvedPagePath:"/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/api/claude/test/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:g,headerHooks:h,staticGenerationBailout:m}=d,f="/api/claude/test/route";function k(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,206],()=>s(6040));module.exports=r})();