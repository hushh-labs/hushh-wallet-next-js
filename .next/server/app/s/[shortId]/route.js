"use strict";(()=>{var e={};e.id=223,e.ids=[223],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},848:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>I,originalPathname:()=>v,patchFetch:()=>k,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>m});var s={};r.r(s),r.d(s,{GET:()=>p});var o=r(5419),a=r(9108),n=r(9678),i=r(8070),u=r(6517);async function p(e,{params:t}){try{let{shortId:r}=t,{data:s,error:o}=await u.p.from("short_urls").select("uid, token").eq("short_id",r).single();if(o||!s)return i.Z.redirect(new URL("/",e.url));await u.p.rpc("increment_access_count",{short_id_param:r});let a=process.env.NEXT_PUBLIC_APP_URL||"https://hushh-gold-pass-mvp.vercel.app",n=`${a}/complete/${s.uid}?token=${s.token}`;return i.Z.redirect(n)}catch(t){return console.error("Short URL redirect error:",t),i.Z.redirect(new URL("/",e.url))}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/s/[shortId]/route",pathname:"/s/[shortId]",filename:"route",bundlePath:"app/s/[shortId]/route"},resolvedPagePath:"/Users/ankitkumarsingh/Desktop/hushh social card/hushh-gold-pass-mvp/src/app/s/[shortId]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:h,serverHooks:l,headerHooks:I,staticGenerationBailout:m}=c,v="/s/[shortId]/route";function k(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:h})}},6517:(e,t,r)=>{r.d(t,{p:()=>o});var s=r(9224);(0,s.eI)("https://ntwdvvzjkmabujwxlzej.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im50d2R2dnpqa21hYnVqd3hsemVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE3MTM4NTcsImV4cCI6MjA0NzI4OTg1N30.vQCDCT-yJjOhBjCvJk7Q5mJGwpMjkKHqo7LDZgG3lBI");let o=(0,s.eI)("https://ntwdvvzjkmabujwxlzej.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,206,224],()=>r(848));module.exports=s})();